@import 'nib'

WHITE = rgb(255, 255, 255)
GRAY_LIGHT = rgb(200, 200, 200)
GRAY = rgb(100, 100, 100)
BLACK = rgb(0, 0, 0)

BLUE_DARKEST = rgb(17, 74, 86)
BLUE_DARK = rgb(1, 82, 99)
BLUE = rgb(0, 158, 179)
BLUE_LIGHT = rgb(208, 255, 255)

RED_LIGHT = rgb(232, 74, 62)
RED = rgb(180, 35, 8)

SIDEBAR_WIDTH = 190px
AVATAR_SIZE = 35px
AVATAR_SIZE_SMALL = 18px

BORDER_RADIUS = 5px

FONT_SIZE = 15px
FONT_SIZE_SMALL = 12px

SPACING_SIZE = 10px

ellipsis()
  overflow: hidden
  text-overflow: ellipsis
  white-space: nowrap

.clearfix:before, .clearfix:after
  content: ''
  display: table

.clearfix:after
  clear: both

*, *:after, *:before
  box-sizing: border-box

html, body
  margin: 0
  padding: 0
  height: 100%
  overflow: hidden

body
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif
  font-size: FONT_SIZE

.sidebar
  position: absolute
  left: 0
  top: 0
  bottom: 0
  width: SIDEBAR_WIDTH
  height: 100%
  color: GRAY_LIGHT
  background: BLUE_DARK top left url('../static/logo.jpg') no-repeat
  background-size: SIDEBAR_WIDTH
  padding-top: 70px
  user-select: none
  cursor: default

  .sidebar-scroll
    overflow: auto
    height: 100%
    padding: 0 SPACING_SIZE 4em SPACING_SIZE

  .heading
    margin-top: (SPACING_SIZE * 2)
    margin-bottom: SPACING_SIZE
    text-transform: uppercase
    font-weight: bold

  a
    ellipsis()
    color: GRAY_LIGHT
    text-decoration: none
    padding: (SPACING_SIZE / 3) SPACING_SIZE
    margin: 0
    display: block

  ul
    list-style: none
    margin: 0
    padding: 0

  li
    ellipsis()
    margin: 0
    padding: 0

    &.active
      background-color: RED_LIGHT
      margin: 0 (-1 * SPACING_SIZE)
      padding: 0 SPACING_SIZE
      a
        color: WHITE

  .avatar
    float: left
    border-radius: (BORDER_RADIUS / 2)
    width: AVATAR_SIZE_SMALL
    height: AVATAR_SIZE_SMALL
    margin-right: (SPACING_SIZE * (2 / 3))
    opacity: 0.8

  .peers
    margin-top: 20px
    margin-left: 10px
    font-style: italic
    font-size: .8em
    text-align: center

  .status
    ellipsis()
    background-color: BLUE_DARKEST
    font-size: 18px
    text-align: center
    position: absolute
    padding: SPACING_SIZE 0
    bottom: 0
    left: 0
    right: 0

.content
  position: absolute
  right: 0
  top: 0
  bottom: 0
  left: SIDEBAR_WIDTH

.messages-container
  height: 100%
  padding-bottom: 53px

.messages
  height: 100%
  overflow-y: auto
  margin: 0
  padding: 0
  li
    list-style: none
.message
  margin: SPACING_SIZE
  .avatar
    float: left
    border-radius: BORDER_RADIUS
    width: AVATAR_SIZE
    height: AVATAR_SIZE
  .username, .verified, .timestamp
    display: inline-block
    line-height: 1
  .username
    font-weight: bold
    margin-left: SPACING_SIZE
  .verified
    background-image: url('../static/verified.svg')
    background-size: 10px
    width: 10px
    height: 10px
    margin-left: (SPACING_SIZE / 2)
    opacity: 0.8
  .timestamp
    color: GRAY_LIGHT
    font-size: FONT_SIZE_SMALL
    margin-left: (SPACING_SIZE * (2 / 3))
  .text
    margin-left: AVATAR_SIZE + SPACING_SIZE
    margin-top: 2px

.starterMessage
  color: GRAY
  font-style: italic
  font-size: 24px
  text-align: center
  margin: (SPACING_SIZE * 3) SPACING_SIZE SPACING_SIZE SPACING_SIZE

.composer input
  font-size: FONT_SIZE
  position: absolute
  bottom: 0
  outline: 0
  width: calc(100% - 20px)
  padding: SPACING_SIZE
  margin: SPACING_SIZE
  border: solid 3px GRAY_LIGHT
  border-radius: BORDER_RADIUS
  box-shadow: 0 0 0 2px WHITE
